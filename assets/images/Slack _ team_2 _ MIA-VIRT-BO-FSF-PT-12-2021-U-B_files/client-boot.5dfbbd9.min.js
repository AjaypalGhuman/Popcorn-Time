(window.webpackJsonp=window.webpackJsonp||[]).push([["client-boot"],{"0VB0":function(e,t,n){"use strict";n.d(t,"h",(function(){return o})),n.d(t,"n",(function(){return a})),n.d(t,"j",(function(){return c})),n.d(t,"i",(function(){return i})),n.d(t,"g",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"k",(function(){return d})),n.d(t,"l",(function(){return b})),n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return p})),n.d(t,"f",(function(){return _})),n.d(t,"o",(function(){return f})),n.d(t,"m",(function(){return v})),n.d(t,"c",(function(){return w})),n.d(t,"d",(function(){return j})),n.d(t,"p",(function(){return F}));var r=n("O9Jm");const o=e=>{if(!e)return null;const t="#"===e[0]?e.substring(1):e,n=parseInt(t,16),r=[n>>16&255,n>>8&255,n>>0&255];return t.length>6?[n>>24&255,...r]:r},a=e=>"#"+e.map((e=>{const t=e.toString(16);return 1===t.length?"0"+t:t})).join("").toUpperCase(),c=e=>{const[t,n,r,o]=e;if(0===n){return("number"==typeof o?[r,r,r,o]:[r,r,r]).map((e=>Math.round(255*e)))}const a=Math.floor(t/60),c=t/60-a,i=r*(1-n),s=r*(1-n*c),l=r*(1-n*(1-c));let u;switch(a){case 0:u=[r,l,i];break;case 1:u=[s,r,i];break;case 2:u=[i,r,l];break;case 3:u=[i,s,r];break;case 4:u=[l,i,r];break;case 5:u=[r,i,s];break;default:throw new Error("hsvToRGB: impossible default reached")}return u="number"==typeof o?[...u,o]:u,u.map((e=>Math.round(255*e)))},i=e=>{const t=c(e);return a(t)},s=e=>(e=>{const[t,n,r,o]=e.map((e=>e/255)),a=Math.max(t,n,r),c=a-Math.min(t,n,r),i=a,s=0===i?0:c/i;let l;if(0===c)l=0;else switch(a){case t:l=(n-r)/c%6;break;case n:l=(r-t)/c+2;break;case r:l=(t-n)/c+4;break;default:throw new Error("rgbToHSV: impossible default case reached")}l*=60,l<0&&(l+=360);const u=[l,s,i];return"number"==typeof o?[...u,o]:u})(o(e)),l=(e,t,{outputHex:n=!1}={})=>{const r=o(e).map((e=>Math.min(Math.max(e-t,0),255)));return n?a(r):"rgb("+r.join(",")+")"},u=(e,t,n=.5)=>{const r=o(e),a=o(t);return r.map(((e,t)=>Math.round(e*n+a[t]*(1-n))))},d=(e,t,n=.5)=>"rgb("+u(e,t,n).join(",")+")",b=(e,t,n=.5)=>{const r=u(e,t,n);return a(r)},m={column_bg:"#3F0E40",menu_bg:"#350d36",active_item:"#1164A3",active_item_text:"#FFFFFF",hover_item:"#350D36",text_color:"#FFFFFF",active_presence:"#2BAC76",badge:"#CD2553",badge_text_color:"#FFFFFF",top_nav_bg:"#350d36",top_nav_text:"#FFFFFF"},p={column_bg:"#3F0E40",menu_bg:"#350d36",active_item:"#1164A3",active_item_text:"#FFFFFF",hover_item:"#350D36",text_color:"#FFFFFF",active_presence:"#2BAC76",badge:b("#FFFFFF","#3F0E40",.9),badge_text_color:"#3F0E40",top_nav_bg:"#350d36",top_nav_text:"#FFFFFF"},_=e=>{const t=Object(r.H)()?.65:.75;return d(e.text_color,e.column_bg,t)},f=(e,t)=>{if(!e||null==t)return null;return"rgba("+o(e).slice(0,3).join(",")+","+t+")"},h=/[A-F0-9]{6}/,g=/[A-F0-9]{8}/,v=(e,t=!1)=>{if(!e)return;let n=e.trim().toUpperCase();"#"===n[0]&&(n=n.slice(1)),(3===n.length||4===n.length&&t)&&(n=n.split("").map((e=>""+e+e)).join("")),t&&6===n.length&&(n+="FF");return(t?g:h).exec(n)&&n},w=(e,t)=>"0 0 0 1px "+e+", 0 0 0 5px "+t,O=e=>{if(!e)return 0;const t=e=>{const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)},[n,r,a]=o(e);return.2126*t(n)+.7152*t(r)+.0722*t(a)},j=(e,t)=>{const n=O(e),r=O(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)},F=e=>j(e,"#ffffff")>j(e,"#1d1c1d")},"7lBi":function(e,t,n){"use strict";n.d(t,"u",(function(){return r})),n.d(t,"t",(function(){return o})),n.d(t,"j",(function(){return a})),n.d(t,"h",(function(){return c})),n.d(t,"i",(function(){return i})),n.d(t,"C",(function(){return s})),n.d(t,"o",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"c",(function(){return b})),n.d(t,"s",(function(){return m})),n.d(t,"a",(function(){return p})),n.d(t,"v",(function(){return _})),n.d(t,"k",(function(){return f})),n.d(t,"B",(function(){return h})),n.d(t,"p",(function(){return g})),n.d(t,"g",(function(){return v})),n.d(t,"f",(function(){return w})),n.d(t,"r",(function(){return O})),n.d(t,"q",(function(){return j})),n.d(t,"A",(function(){return F})),n.d(t,"x",(function(){return S})),n.d(t,"y",(function(){return k})),n.d(t,"l",(function(){return A})),n.d(t,"m",(function(){return y})),n.d(t,"w",(function(){return I})),n.d(t,"z",(function(){return x})),n.d(t,"b",(function(){return T})),n.d(t,"n",(function(){return B}));const r=180,o=600,a=260,c=310,i=1e3,s=24,l=321,u=15,d={MANUAL:"manual",AUTO:"auto"},b=500,m=140,p=[{minWidth:1420,sidebar:260,inspector:400},{minWidth:1200,sidebar:260,inspector:380},{minWidth:1080,sidebar:260,inspector:340},{minWidth:960,sidebar:220,inspector:320},{minWidth:860,sidebar:220,inspector:260},{minWidth:0,sidebar:200,inspector:260}],_=[{min:r,max:220,className:"p-workspace__sidebar--tiny"},{min:o-50,max:o,className:"p-workspace__sidebar--large"}],f=[{min:a,max:300,className:"p-workspace__secondary_view--tiny"},{min:301,max:399,className:"p-workspace__secondary_view--medium"},{min:400,max:i,className:"p-workspace__secondary_view--large"}],h=[{min:a,max:300,className:"p-workspace__tiles--tiny"},{min:301,max:499,className:"p-workspace__tiles--medium"},{min:500,max:i,className:"p-workspace__tiles--large"}],g=[{min:1,max:400,className:"p-workspace__primary_view--tiny"},{min:401,max:600,className:"p-workspace__primary_view--small"}],v=260,w=400,O=8,j=16,F=60,S="sidebarWidthIntent",k="sidebarWidthMode",A="inspectorWidthIntent",y="inspectorWidthMode",I="isSidebarVisible",x="isTeamSidebarVisible",T="calculatedSidebarWidth",B="LAYOUT"},"Qe/g":function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return s}));var r=n("RVJP"),o=n("G5NC"),a=n("wwBm");function c(e){return"treatment"===Object(r.d)(e,"mwc")&&Object(o.a)()}let i;function s(){if(!Object(o.a)())return!1;if(void 0===i){const e=Object(a.d)(location.search);i=!!e.channel_popout}return i}},SrQ3:function(e,t,n){},"d/52":function(e,t,n){"use strict";n.r(t);var r=n("4Z3G"),o=n("25cE"),a=n("JtEI"),c=n("t4eE"),i=n("O9Jm"),s=n("vATg"),l=n("z2u5"),u=n("Omjo"),d=n("A4VO"),b=n("rb67"),m=n("4Ms+"),p=n("j77i"),_=n("d1Gh"),f=n("qe1s"),h=n("TIeP"),g=n("igaJ"),v=n("TSHB"),w=n("m8R6"),O=n("fujP"),j=n("7EGn"),F=n("vfQU"),S=n("0VB0"),k=n("ltDl");function A(){const e="prevTeams",t="orderedTeamIds",n=Object(p.e)(e),r=Object(O.a)(n)?Object(F.fb)()&&(()=>{const e=Object(F.H)("teams"),t=Object(F.H)("enterprise");if(!e)return null;const n=({theme:e}={})=>e&&e.column_bg&&Object(S.e)(e.column_bg,20),r=({team_id:e}={})=>t&&t[e]&&t[e].enterpriseId,o=({team_url:e}={})=>{if(!e)return"";const{host:t,protocol:n}=Object(k.a)(e);return n+"//"+t+"/"},a=Object.keys(Object(p.e)("teams")||{}),c=Object(w.a)(e,a);return Object(v.a)(c,(e=>({id:e.team_id,name:e.team_name,url:o(e),token:e.token,user_locale:e.locale,user_id:e.id,icon:e.icons,channelSidebarBackground:e.theme&&e.theme.column_bg,enterprise_id:r(e),teamSwitcherBackground:n(e),isExpired:!0})))})():n;Object(p.q)(e,r);const o=Object(p.e)(t),a=Object(O.a)(o)?Object(j.a)(Object(F.H)("appTeams"),"teamsByIndex",[]):o;Object(p.q)(t,a)}var y=n("d/xU");var I=n("Qe/g"),x=n("7lBi");n("SrQ3");const T=".p-client_container_placeholder";function B({teamId:e,showTeamSwitcher:t=!1}){var n;const r=Object(p.g)(e,"channelSidebarBackground"),o=Object(p.g)(e,"teamSwitcherBackground"),a=Object(p.g)(e,"textColor"),s=Object(p.g)(e,"topNavBackground")||r,l=document.querySelector(T);if(!l)return;if(Object(I.a)())return void function(e){const t=document.createElement("div");t.classList.add("p-view_header_placeholder"),e.appendChild(t);const n=document.createElement("div");n.classList.add("p-message_input_placeholder"),e.appendChild(n),e.classList.add("p-client_container_placeholder--channel-popout")}(l);const u=l.querySelector(".p-client_container_placeholder__nav");if(!r)return void C();if(Object(c.b)()&&t&&(l.classList.add("p-client_container_placeholder--with-team-switcher"),o&&(l.style.borderLeftColor=o)),u&&a&&r){const e=Object(S.k)(a,r,.1),n=Object(S.o)(a,.1);l.style.borderRightColor=e,Object(i.H)()&&Object(i.k)()&&(u.style.height="7px"),s&&(u.style.backgroundColor=s),u.style.color=n,Object(c.b)()&&t&&(l.style.removeProperty("border-left-color"),l.style.boxShadow="-60px 0px 0px 0px "+r,u.classList.add("p-client_container_placeholder__nav--with-team-switcher"))}let d=r;const b=null!==(n=Object(p.g)(e,x.b))&&void 0!==n?n:"",m=parseInt(b,10);isNaN(m)||(l.style.width=b+1+"px",Object(c.b)()&&t&&0===m&&(l.style.width="60px",d="none",l.style.borderRight="none")),l.style.backgroundColor=d,l.style.opacity="1"}function C(){const e=document.querySelector(T);e&&e.remove()}const E=Object(i.e)();E!==i.a.SAFARI&&E!==i.a.EDGE||Object(b.e)();let W=!1;function L(){Object(u.b)("BOOT","Service Worker activated. Waiting until all teams have booted to fetch API calls for caching"),W=!0}Object(i.z)()&&navigator.serviceWorker.addEventListener("controllerchange",L),window.sonic_boot__phase_1_5__duration=Date.now()-window.sonic_boot__phase_1_5__start,window.sonic_boot__phase_2__start=Date.now(),r.a.resolve(Object(m.b)({label:"setupGantry_"+Object(a.d)(Object(d.a)())},l.a)).then((({teamId:e,forceColdBoot:t,triggerSignInAfterBoot:n,teamIdFromUrl:c})=>(Object(i.k)()&&!Object(p.e)("migratedDesktopLocalConfig")&&(A(),Object(p.q)("migratedDesktopLocalConfig",!0)),B({teamId:e,showTeamSwitcher:Object(_.a)().length>1}),Object(m.b)({label:"bootClient_"+Object(a.d)(t)},(function(){var t,a;Object(o.C)(),e!==Object(p.e)("lastActiveTeamId")&&Object(p.q)("lastActiveTeamId",e);const i=new URL(window.location),s=(null==i||null===(t=i.searchParams)||void 0===t?void 0:t.get("pause_boot_step"))&&parseInt(null==i||null===(a=i.searchParams)||void 0===a?void 0:a.get("pause_boot_step"),10);return new r.a((e=>{1===s?window.nextBootStep=e:e()})).then((()=>Object(f.b)({teamId:e,shouldSetFocus:true}))).then((e=>{const t=Date.now(),{store:r,bootAssets:o,isWarmBooting:a,trace:i,phase2Trace:s}=e,{isJsPath:l,mountClient:u,isReload:d,isQa:b,isDev:m,registerGlobalErrorHandler:p,registerGlobalBeforeunloadHandler:_,registerNetworkConnectivityListener:f}=o;p(),_(),f();const h=r.getState(),g=o.getTelemeter({state:h}),v=o.getTracer({state:h}),w=a?"warm":"cold";l||m||b||(g.store("sonic_boot_phase_2_"+w,Date.now()-window.sonic_boot__phase_2__start),null==s||s.startSpan("sonic_boot_phase_2_"+w,{startTime:window.sonic_boot__phase_2__start,closeTime:Date.now()}),v.reportTrace(s),d()&&g.count("sonic_boot_via_reload"));let O=!0;return C(),u(document.querySelector(".p-client_container"),(()=>{l||m||b||!O||(g.store("sonic_boot_phase_3_"+w,Date.now()-t),null==i||i.startSpan("sonic_boot_phase_3_"+w,{startTime:t,closeTime:Date.now()}),O=!1),(m||b)&&window.postMessage("bootEnd",window.location.origin)})),v.reportTrace(i),{...e,triggerSignInAfterBoot:n,teamIdFromUrl:c}}))}))))).catch((e=>{C(),Object(s.e)(e,{locationHref:window.location.href,lsConfig:localStorage.localConfig_v1,shouldRetry:!0})})).tap((function(e){return e.bootAssets.listenForLongTasks(),r.a.resolve(e)})).tap((function({bootAssets:e,triggerSignInAfterBoot:t,teamIdFromUrl:n}={}){if(!t)return;const{startWorkspaceSignIn:r,getClientStoreInstance:o}=e;o().dispatch(r({teamId:n}))})).then((function(e){if(!Object(c.b)())return r.a.resolve(e);const t=e.teamId,n=e.bootAssets.getAuthedTeamsFromLocalConfig().filter((e=>e!==t));Object(u.b)("BOOT","Booting other teams: "+n.join(","));return n.map((e=>f.b.bind(null,{teamId:e}))).reduce(((e,t,r)=>e.catch((e=>{Object(s.a)(n[r-1],e)})).finally(t)),r.a.resolve()).then((()=>e))})).then((function(e){const{bootAssets:t}=e,{registerMinVersionPoll:n}=t;return n(),r.a.resolve(e)})).then((function(e){var t;return null==e||null===(t=e.bootAssets)||void 0===t||t.storeSSBMemoryStatsOnAnInterval(),r.a.resolve(e)})).then((function(e){var t;return null==e||null===(t=e.bootAssets)||void 0===t||t.storeReduxStoreStatsOnAnInterval(),r.a.resolve(e)})).then((function(e){var t;return null==e||null===(t=e.bootAssets)||void 0===t||t.storeA11yClientStats(),r.a.resolve(e)})).then((function(e){var t;return null==e||null===(t=e.bootAssets)||void 0===t||t.updateA11yPreferences(e),r.a.resolve(e)})).tap((function(e){const{createCookie:t,isDesktopApiAvailable:n,getInstanceUid:o}=e.bootAssets;return n()&&t("ssb_instance_id",o(),3650,"."+Object(y.g)()),r.a.resolve(e)})).then((function(e){const{bootAssets:t}=e,{registerServiceWorker:n,fetchApiCallsForCaching:o}=t;if(!Object(i.z)())return Object(u.b)("BOOT","Service Worker unavailable; Skipping registration."),r.a.resolve(e);W?(Object(u.b)("BOOT","Service Worker activated earlier; Fetching API calls for caching."),o(e)):navigator.serviceWorker.addEventListener("controllerchange",(()=>{Object(u.b)("BOOT","Service Worker activated; Fetching API calls for caching."),o(e)}));return navigator.serviceWorker.removeEventListener("controllerchange",L),n(),r.a.resolve(e)})).then((function(e){const{bootAssets:t}=e,{isJsPath:n,isProduction:o,removeUrlQueryStringValue:a}=t;if(o&&!n){if(window.location.search.match("force_cold_boot")){const e=a(window.location.href,"force_cold_boot");window.history.replaceState({},"",e)}if(window.location.search.match("new_enough_acceptable")){const e=a(window.location.href,"new_enough_acceptable");window.history.replaceState({},"",e)}}return r.a.resolve(e)})).then((function(e){const{getSharedStoreInstanceByEnterpriseId:t}=e.bootAssets,n=e.bootAssets.getAuthedTeamsFromLocalConfig(),r=new Set;return n.forEach((e=>{const n=t(e);if(n){var o,a;const e=null===(o=n.getState())||void 0===o||null===(a=o.selfTeamIds)||void 0===a?void 0:a.enterpriseId;r.add(e)}})),e.bootAssets.clearAllPersistedDataExceptForTeamIds([...n,...r]).then((()=>e))})).then((function(e){const{getClientStoreInstance:t,getStoreInstanceByTeamId:n,getSharedStoreInstanceByEnterpriseId:o,initPersistenceForTeam:a}=e.bootAssets,c=t();return Object(g["getBootedWorkspaces"])(c.getState()).forEach((e=>{const t=n(e);a({teamId:e,store:t});const r=o(e);if(r){var c,i;const e=null===(c=r.getState())||void 0===c||null===(i=c.selfTeamIds)||void 0===i?void 0:i.enterpriseId;a({teamId:e,store:r})}})),r.a.resolve(e)})).tap((function(e){return e.bootAssets.reportLongTailTeamUsage(e),r.a.resolve(e)})).then((function(e){const{getClientStoreInstance:t,getGenericTelemeter:n}=e.bootAssets;return t().dispatch(Object(h.setDidBootAllWorkspaces)()),n().count("sonic_boot_completed"),Object(f.a)(),r.a.resolve(e)}))}},[["d/52","gantry-manifest","gantry-vendors","gantry-shared","client-boot-styles"]]]);